<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/styles.css">
    <title>Form Preview</title>
</head>
<body>
    <div class="form-container">
        <h1>Form Preview</h1>
        <form id="previewForm"></form>
        <button onclick="window.history.back();">Back</button>
        <button onclick="resetForm();" class="reset-button">Reset</button>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const formQuestions = JSON.parse(localStorage.getItem("formQuestions")) || [];
            const previewForm = document.getElementById("previewForm");

            formQuestions.forEach(({ questionText, questionType, isRequired, validationData }) => {
                let fieldHTML = `<div class="form-question">
                    <label>${questionText}${isRequired ? ' <span class="required-asterisk">*</span>' : ''}</label>`;

                switch (questionType) {
                    case "text":
                        fieldHTML += `<input type="text" ${isRequired ? "required" : ""}>`;
                        break;

                    case "multipleChoice":
                        fieldHTML += `<input type="radio" name="${questionText}" value="Option 1" ${isRequired ? "required" : ""}> Option 1<br>`;
                        fieldHTML += `<input type="radio" name="${questionText}" value="Option 2" ${isRequired ? "required" : ""}> Option 2<br>`;
                        break;

                    case "checkbox":
                        fieldHTML += `<input type="checkbox" name="${questionText}" value="Option 1" ${isRequired ? "required" : ""}> Option 1<br>`;
                        fieldHTML += `<input type="checkbox" name="${questionText}" value="Option 2" ${isRequired ? "required" : ""}> Option 2<br>`;
                        break;

                    case "date":
                        fieldHTML += `<input type="date" min="${validationData.minDate || ""}" max="${validationData.maxDate || ""}" ${isRequired ? "required" : ""}>`;
                        break;

                    case "number":
                        fieldHTML += `<input type="number" min="${validationData.minValue || ""}" max="${validationData.maxValue || ""}" ${isRequired ? "required" : ""}>`;
                        break;
                }

                fieldHTML += `</div>`;
                previewForm.innerHTML += fieldHTML;
            });
        });

        function resetForm() {
            localStorage.removeItem('formQuestions');
            document.getElementById('previewForm').innerHTML = '';
        }
    </script>
</body>
</html>
